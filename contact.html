<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Link Styles -->
    <link rel="stylesheet" href="./SRC/CSS/reset.css" />
    <link rel="stylesheet" href="./SRC/CSS/contact.css" />

    <!-- Link icon -->
    <link rel="icon" href="./SRC/Img/icon.png">

    <!-- Title -->
    <title>Contact me</title>
</head>

<body>

    <!-- Header project -->
    <header class="header">
        <!-- Title project -->
        <div class="title-nav">
            <a href="index.html" class="text-title">Harrison Almeida</a>
        </div>
        <!-- Navbar project -->
        <nav class="list-nav">
            <a href="https://github.com/harrisoncalmeida?tab=repositories" class="link-nav" title="Projetos">Projetos</a>
            <a href="./SRC/CV/Currículo.pdf" download="Currículo.pdf" class="link-nav" title="CV">CV</a>
            <a href="#" class="link-nav" title="Contact me">
                <svg data-v-c7eb9a16="" viewBox="0 0 24 24" width="1.2em" height="1.2em">
                    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m10.308 13.692l4.846-4.846M20.11 5.89l-4.09 13.294c-.367 1.192-.55 1.788-.867 1.985a.999.999 0 0 1-.912.076c-.345-.143-.624-.7-1.182-1.816l-2.59-5.182a2.104 2.104 0 0 0-.193-.342a1.002 1.002 0 0 0-.18-.181a2.036 2.036 0 0 0-.331-.186L4.572 10.94c-1.115-.558-1.673-.837-1.816-1.181a1 1 0 0 1 .076-.913c.197-.316.793-.5 1.985-.867l13.295-4.09c.937-.289 1.405-.433 1.722-.316a1 1 0 0 1 .594.594c.116.316-.028.784-.316 1.72v.002Z"></path>
                </svg>
            </a>
        </nav>
    </header>

    <!-- Main project -->
    <main>
        <div class="title">
            <h1 class="title-text">Entre em contato comigo</h1>
        </div>
        <article class="content">
            <div class="form-text">
                <p class="text-one">Se você quiser falar comigo sobre qualquer coisa, sinta-se à vontade para entrar em contato.</p>
            </div>
            <form id="contact-form" action="https://formspree.io/f/myzggrpe" method="POST">
                <div class="forms">
                    <div class="form">
                        <label class="form-name"for="form-name">Nome</label>
                        <input class="form-control-name" name="nome" type="text" id="form-name" required maxlength="50" placeholder="Seu nome" required>
                    </div>
                    <div class="form"> <!-- Ajustar o tamanho para o Ipad Air -->
                        <label class="form-email" for="form-email">Endereço de email</label>
                        <input class="form-control-email" name="email" type="email" id="form-email" required maxlength="50" placeholder="name@email.com" required>
                    </div>
                </div>
                <div class="form-mess">
                    <label class="form-message" for="textAreaMensagem">Área de mensagem</label>
                    <textarea class="form-control-message" name="mensagem" id="textAreaMensagem" required maxlength="300" placeholder="Olá, posso fazer uma pergunta?"></textarea>
                </div>
                <div class="buttons">
                    <button type="submit" role="button" class="button">
                        <img width="20" height="20" src="./SRC/Img/send.png" alt="Enviar" class="icon-button" />Enviar
                    </button>
                </div>
            </form>
            <div id="form-status" class="form-status"></div>
        </article>
    </main>

    <!-- Footer project -->
    <footer class="baseboard">
        <a class="text-baseboard" href="index.html" title="Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)">© 2024</a>
    </footer>

    <!-- Script para impedir o envio padrão do formulário -->
    <script>
        document.getElementById('contact-form').addEventListener('submit', async function(event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            const form = event.target;
            const data = new FormData(form);
            const action = form.action;
            
            try {
                const response = await fetch(action, {
                    method: 'POST',
                    body: data,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    document.getElementById('form-status').innerHTML = 'Mensagem enviada com sucesso!';
                    form.reset();
                } else {
                    document.getElementById('form-status').innerHTML = 'Ocorreu um erro ao enviar a mensagem.';
                }
            } catch (error) {
                document.getElementById('form-status').innerHTML = 'Ocorreu um erro ao enviar a mensagem.';
            }
        });
    </script>
</body>

</html>